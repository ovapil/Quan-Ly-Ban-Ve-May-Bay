<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UITicket - Auth</title>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;600;700;800&display=swap" rel="stylesheet" />

  <link rel="stylesheet" href="css/common.css" />
  <link rel="stylesheet" href="css/auth.css" />
</head>

<body class="auth-mode">
  <!-- ✅ THÊM: Toast notification -->
  <div id="toast">Thông báo</div>

  <!-- WELCOME SCREEN -->
  <div id="welcome-screen" class="glass-card container-width">
    <div class="brand-inner">
      <img src="assets/images/logo.png" alt="Logo" />
      <span>UITicket</span>
    </div>

    <div class="content-title">
      <h1>Buy&Fly.</h1>
      <h2 style="margin-bottom: 30px;">Catch your sky!</h2>
    </div>

    <button class="primary-btn" style="width: 180px; margin: 0 auto;" onclick="AuthUI.showLogin()">
      Đăng nhập
    </button>

    <p class="footer-text">
      Chưa có tài khoản?
      <a href="https://mail.google.com/mail/?view=cm&fs=1&to=23521040@gm.uit.edu.vn&su=%5BUITicket%5D%20Y%C3%AAu%20c%E1%BA%A7u%20c%E1%BA%A5p%20t%C3%A0i%20kho%E1%BA%A3n%20Staff&body=%3Cdiv%20style%3D%5C%22font-family%3A%20Arial%2C%20sans-serif%3B%20max-width%3A%20600px%3B%20margin%3A%200%20auto%3B%5C%22%3E%0A%20%20%3Ch2%20style%3D%5C%22color%3A%20%232E4AA8%3B%5C%22%3E%F0%9F%91%A9%E2%80%8D%F0%9F%92%BC%20Y%C3%AAu%20c%E1%BA%A7u%20c%E1%BA%A5p%20t%C3%A0i%20kho%E1%BA%A3n%20Staff%20UITicket%3C%2Fh2%3E%0A%20%20%3Cp%3EVui%20l%C3%B2ng%20đi%E1%BB%81n%20%C4%91%E1%BA%A7y%20%C4%91%E1%BB%A7%20th%C3%B4ng%20tin%20b%C3%AAn%20d%C6%B0%E1%BB%9Bi%20%C4%91%E1%BB%83%20qu%E1%BA%A3n%20tr%E1%BB%8B%20vi%C3%AAn%20x%E1%BB%AD%20l%C3%BD%20y%C3%AAu%20c%E1%BA%A7u%20c%E1%BA%A5p%20t%C3%A0i%20kho%E1%BA%A3n%3A%3C%2Fp%3E%0A%20%20%3Cdiv%20style%3D%5C%22background%3A%20%23f8fafc%3B%20padding%3A%2016px%3B%20border-radius%3A%208px%3B%20margin%3A%2016px%200%3B%20border-left%3A%204px%20solid%20%232E4AA8%3B%5C%22%3E%0A%20%20%20%20%3Cp%3E%3Cstrong%3E%F0%9F%91%A4%20H%E1%BB%8D%20v%C3%A0%20t%C3%AAn%3A%3C%2Fstrong%3E%20.............................................%3C%2Fp%3E%0A%20%20%20%20%3Cp%3E%3Cstrong%3E%F0%9F%93%A7%20Email%3A%3C%2Fstrong%3E%20....................................................%3C%2Fp%3E%0A%20%20%20%20%3Cp%3E%3Cstrong%3E%F0%9F%91%BB%20Username%3A%3C%2Fstrong%3E%20.............................................%3C%2Fp%3E%0A%20%20%20%20%3Cp%3E%3Cstrong%3E%F0%9F%91%94%20Vai%20tr%C3%B2%3A%3C%2Fstrong%3E%20Staff%2FAdmin%3C%2Fp%3E%0A%20%20%3C%2Fdiv%3E%0A%20%20%3Chr%20style%3D%5C%22margin%3A%2024px%200%3B%20border%3A%20none%3B%20border-top%3A%201px%20solid%20%23e5e7eb%3B%5C%22%2F%3E%0A%20%20%3Cp%20style%3D%5C%22color%3A%20%2364748b%3B%20font-size%3A%2012px%3B%5C%22%3EEmail%20t%E1%BB%B1%20%C4%91%E1%BB%99ng%20g%E1%BB%ADi%20t%E1%BB%9Bi%20qu%E1%BA%A3n%20tr%E1%BB%8B%20vi%C3%AAn%20UITicket.%20Vui%20l%C3%B2ng%20kh%C3%B4ng%20reply%20email%20n%C3%A0y.%3C%2Fp%3E%0A%3C%2Fdiv%3E" style="color: var(--primary); text-decoration: none; font-weight: 600;" target="_blank">
      <a href="https://mail.google.com/mail/?view=cm&fs=1&to=23521040@gm.uit.edu.vn&su=%5BUITicket%5D%20Y%C3%AAu%20c%E1%BA%A7u%20c%E1%BA%A5p%20t%C3%A0i%20kho%E1%BA%A3n&body=Th%C3%B4ng%20tin%20sau%20%C4%91%C3%A2y%20%C4%91%E1%BB%83%20qu%E1%BA%A3n%20tr%E1%BB%8B%20vi%C3%AAn%20x%E1%BB%AD%20l%C3%BD%20y%C3%AAu%20c%E1%BA%A7u%20c%E1%BA%A5p%20t%C3%A0i%20kho%E1%BA%A3n%3A%0A%E2%9C%8F%EF%B8%8F%20H%E1%BB%8D%20v%C3%A0%20t%C3%AAn%3A%20%0A%F0%9F%93%A7%20Email%3A%20%0A%F0%9F%91%BB%20Username%3A%20%0A%F0%9F%91%94%20Vai%20tr%C3%B2%20%C4%91%C4%83ng%20k%C3%BD%3A%20Staff%2FAdmin%20(X%C3%B3a%201%20trong%202%20vai%20tr%C3%B2)%0A" style="color: var(--primary); text-decoration: none; font-weight: 600;" target="_blank">
        Liên hệ quản trị viên
        <img src="assets/images/arrow-small.png" class="external-icon-img" alt="Arrow" />
      </a>
    </p>
  </div>

  <!-- LOGIN SCREEN -->
  <div id="login-screen" style="display: none;">
    <div class="container-width">
      <div class="login-header">
        <img src="assets/images/logo-white.png" alt="Logo White" />
        <h2>Đăng nhập vào UITicket</h2>
      </div>

      <div class="glass-card login-card">
        <div class="input-group">
          <label>Tên tài khoản</label>
          <div class="input-wrapper">
            <input 
              type="text" 
              id="loginUser" 
              placeholder="Username"
              autocomplete="username"
            />
          </div>
        </div>

        <div class="input-group">
          <label>Mật khẩu</label>
          <div class="input-wrapper">
            <input 
              type="password" 
              id="passwordInput" 
              placeholder="Password"
              autocomplete="current-password"
            />
            <i class="fa-solid fa-eye-slash eye-icon" id="togglePasswordBtn" style="cursor: pointer;"></i>
          </div>
        </div>

        <div class="remember-me">
          <input type="checkbox" id="remember" />
          <label for="remember" style="color: #3f51b5; margin-bottom: 0; cursor: pointer;">
            Ghi nhớ đăng nhập
          </label>
        </div>

        <button class="primary-btn" id="loginBtn" onclick="Auth.handleLogin()">
          Đăng nhập
        </button>

        <a 
          href="#" 
          class="forgot-pass" 
          onclick="AuthUI.showForgot(); return false;"
          style="cursor: pointer;"
        >
          Quên mật khẩu?
        </a>
      </div>
    </div>
  </div>

  <!-- Đã xóa giao diện đăng ký tài khoản -->

  <!-- FORGOT PASSWORD SCREEN -->
  <div id="forgot-screen" style="display: none;">
    <div class="container-width">
      <div class="login-header">
        <img src="assets/images/logo-white.png" alt="Logo White" />
        <h2>Quên mật khẩu</h2>
      </div>

      <div class="glass-card login-card">
        <div class="input-group">
          <label>Tên tài khoản</label>
          <div class="input-wrapper">
            <input 
              type="text" 
              id="resetUser" 
              placeholder="Username"
              autocomplete="username"
            />
          </div>
        </div>

        <div class="input-group">
          <label>Email đã đăng ký</label>
          <div class="input-wrapper">
            <input 
              type="email" 
              id="resetEmail" 
              placeholder="example@gmail.com"
              autocomplete="email"
            />
          </div>
        </div>

        <div class="input-group">
          <label>Nội dung yêu cầu</label>
          <div class="input-wrapper">
            <textarea 
              id="resetMessage" 
              placeholder="Ví dụ: Mình quên mật khẩu, nhờ admin reset giúp."
              style="resize: vertical; min-height: 100px;"
            ></textarea>
          </div>
        </div>

        <button class="primary-btn" id="resetBtn" onclick="Auth.sendResetRequest()">
          Gửi yêu cầu reset
        </button>

        <p class="footer-text">
          <a onclick="AuthUI.showLogin(); return false;" class="forgot-pass" style="cursor: pointer; color: #6B7280; font-weight: 400;">
            Quay lại đăng nhập
          </a>
        </p>
      </div>
    </div>
  </div>

  <!-- ✅ THÊM: Script js/auth.js -->
  <script src="js/auth.js"></script>
</body>
</html>